<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title> Ghost Waters </title>

  <!-- add a favicon which will appear in browser tabs -->
  <link rel="shortcut icon" href="./images/favicon.ico">

  <!-- CSS for google fonts, bootstrap, mapboxgl, mapboxgl geocoder, plus local styles-->
   <link rel="preconnect" href="https://fonts.googleapis.com">
   <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
   <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;500;600&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

   <link href='https://api.mapbox.com/mapbox-gl-js/v2.7.0/mapbox-gl.css' rel='stylesheet' />
   <link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.7.2/mapbox-gl-geocoder.css" type="text/css">
   <link rel="stylesheet" href="css/styles.css">


</head>

<body>

<!-- from Chirs' class  7 code -->
<div id= 'parent-container'>

 <!-- Navbar -->
 <nav class="navbar navbar-expand-lg navbar-dark " style="background-color:#33485d;border-bottom: 1px solid #5e5e5e;">
   <!-- Container wrapper -->
   <div class="container-fluid">

     <!-- Navbar brand -->
     <div class="navbar-brand" href="#"><i class="fa-solid fa-ghost"></i> Ghost Waters </div>

     <!-- Toggle button -->
     <button class="navbar-toggler" type="button" data-mdb-toggle="collapse" data-mdb-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
       <i class="fas fa-bars"></i>
     </button>

     <!-- Collapsible wrapper -->
     <div class="collapse navbar-collapse" id="navbarSupportedContent">
       <ul class="navbar-nav me-auto mb-2 mb-lg-0">
         <!-- Link -->
       </ul>

       <!-- Icons (these will show up on the right) -->
       <ul class="navbar-nav d-flex flex-row me-1">
         <li class="nav-item">
           <a class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#exampleModal">About</a>
         </li>
         <li class="nav-item me-3 me-lg-0">
           <a class="nav-link" href="https://github.com/ren-hh/mhta-hydrology"  target='_blank' rel='noopener noreferrer' ><i class="fab fa-github"></i></a>
         </li>
       </ul>

     </div>
   </div>
   <!-- Container wrapper -->
 </nav>


<!-- content area -->
  <div class='content-area'>
     <div class='sidebar'>

       <div class='sidebar-top'>

         <div id='default-sidebar-content'>
           <h3> Ghost Waters of NYC</h3>
           <p> <small> The map shows  <span class='highlight'> streams </span> that criscrossed parts of New York City in the year 1609 along with the  <span class='highlight'> shoreline </span>  at the time.  Though most creeks and streams are no longer visible on the surface, many continue to course through subway tunnels, basements, and deep under streets and buildings. They <a href= "https://www.nytimes.com/2021/09/28/opinion/hurricane-ida-new-york-city.html" target='_blank' rel='noopener noreferrer' > make their presence known during storm events </a> and cause unpleasant surprises for construction crews, haunting us for having buried them alive.  </small> </p>
           <p> <small>  <span class='highlight'> Toggle </span>  the layers for the 100 year and 500 year  FEMA <span class='highlight'> flood </span> maps  to see how much the original geography of the island impacts where flood hazards are expected today. <a href= "https://www.massivecert.com/blog/fema-100-year-flood-zone-explained" target='_blank' rel='noopener noreferrer' > Learn</a>  about what 100 year and 500 year floodplain means. </small> </p>
           <p> <small> <span class='highlight'> Click </span> the buttons or markers on the map to learn about a particular stream, its history, and how it continues to impact the lives of New Yorkers today. Some stories have additional features that you can hover over to get more information. </small> </p>

           <!-- buttons area -->
           <div class='btn-area'>

            <p></p>
            <h4>Bronx</h4>
            <div class="btn-group" role="group" aria-label="button group">
               <button <type="button" class="btn btn-outline-primary flyto flyto-tibbetts">Tibbetts Brook</button>
               <button type="button" class="btn btn-outline-primary flyto flyto-brook">Mill Brook </button>
             </div>

            <h4>Manhattan</h4>
            <div class="btn-group" role="group" aria-label="button group">
              <button type="button" class="btn btn-outline-primary flyto flyto-maiden"> Maiden Lane </button>
              <button type="button" class="btn btn-outline-primary flyto flyto-minetta">Minetta Brook</button>
              <button type="button" class="btn btn-outline-primary flyto flyto-east">East River Park</button>
              <button type="button" class="btn btn-outline-primary flyto flyto-collect">Collect Pond </button>
            </div>
            <div class="btn-group" role="group" aria-label="button group">
              <button type="button" class="btn btn-outline-primary flyto flyto-broad">Broad Street</button>
              <button type="button" class="btn btn-outline-primary flyto flyto-montayne">Montayne's Rivulet</button>
               <button type="button" class="btn btn-outline-primary flyto flyto-tiemann"> Tiemann's Fountain </button>
               <button type="button" class="btn btn-outline-primary flyto flyto-sunfish"> Sunfish Creek </button>
            </div>
            <div class="btn-group" role="group" aria-label="button group">
              <button <type="button" class="btn btn-outline-primary flyto flyto-west">32 W 76th St.</button>
            </div>
            <h4>Queens</h4>
            <div class="btn-group" role="group" aria-label="button group">
              <button <type="button" class="btn btn-outline-primary flyto flyto-newtown">Newtown Creek</button>


            </div>

          </div>
        </div>
        <div id='variable-sidebar-content'>
          <div id='card-area'>
            <div class="card text-white bg-dark mb-3" style="background-color:#33485d;">
               <div class="bg-image hover-overlay ripple" data-mdb-ripple-color="light" style="background-color:#33485d;">

                   <!-- Carousel wrapper -->
                   <!--source: https://getbootstrap.com/docs/5.1/components/carousel/ -->
                   <div id="myCarousel" class="carousel slide" data-bs-ride="carousel">
                    <div class="carousel-indicators">
                      <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                      <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
                      <!-- <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button> -->
                    </div>
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                          <div id="item1">
                            <img src= "..." class="d-block w-100" alt="...">

                          </div>

                          <!-- <div class="carousel-caption carousel-caption-padding-y d-none d-md-block"> -->
                          <div class = " carousel-caption carousel-caption-padding-y">
                              <h5>Then</h5>
                          </div>
                        </div>

                      <div class="carousel-item">
                        <div id="item2">
                          <img src= "..." class="d-block w-100" alt="...">

                        </div>
                        <div class="carousel-caption carousel-caption-padding-y">
                            <h5>Now</h5>
                        </div>
                      </div>
                    </div>
                    <button class="carousel-control-prev" type="button" data-bs-target="#myCarousel" data-bs-slide="prev">
                      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                      <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#myCarousel" data-bs-slide="next">
                      <span class="carousel-control-next-icon" aria-hidden="true"></span>
                      <span class="visually-hidden">Next</span>
                    </button>
                  </div>
             <!-- Carousel wrapper -->


                   <a href="#!">
                  <div class="mask" style="background-color: rgba(251, 251, 251, 0.15);"></div>
                   </a>
               </div>
               <div class="card-body" style="background-color:#33485d; padding-top: 5px; text-align: justify;">
                 <h5 class="card-title">${name}</h5>
                 <p class="card-text">${desc}</p>
                 <p class="card-text"> ${link} </p>
               </div>
            </div>
          </div>
        </div>
       </div>

       <div class='sidebar-bottom'>

          <button type="button" class="reset btn btn-outline-primary">Back to City View</button>
       </div>

    </div>

     <div id='mapContainer'>
     <!-- this is where mapboxGL will insert the map -->
     </div>

   </div>

   <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">About this Project</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div id="modal" class="modal-body">
              <h2 id="introduction">Introduction</h2>
              <p>The inspiration behind this project was learning about the <a href="https://www.nytimes.com/2021/12/06/nyregion/tibbets-brook-bronx-daylighting.html" target='_blank' rel='noopener noreferrer'>Tibbetts Brook daylighting</a> proposal in my neighborhood (Kingsbridge, Bronx). I started wondering how many other ghost streams there must be around the city that were forced underground or into sewers as the land was developed around them that continue to haunt us during storm events and even on a daily basis by creating sink holes and taxing our wastewater management systems. Restoring them to the surface could create new habitats and recreational spaces, reduce flood risk, lighten the load on our wastewater treatment systems, and clean our waterways by reducing combined sewage overflow (CSO) events. In addition to possible stream restoration and resiliency projects, this map also tells the story of several bodies of water that appear to be truly lost- filled in and paved over, with no current signs of existence. </p>
              <p>This project was created as the final project for my Interactive Web Mapping course at NYU Wagner, taught by <a href="https://github.com/chriswhong" target='_blank' rel='noopener noreferrer'>Chris Whong</a>. </p>
            <h2 id="how-to-use">How to Use</h2>
              <p>Navigating to individual stories by clicking a button or marker allows the user to learn about that particular stream, see a representation of the historical stream (typically an old map or artwork where available), and a photo of the site in the present day. Clicking the title or the link at the bottom of the description opens a new tab with the source site for the information. Clicking the <code>Back to City View</code> button allows the user to return to the the full map view. </p>
              <p>In the full map view, the user is free to zoom in to areas of interest, where they can observe flooding risk by toggling the 100 year and 500 year floodplain layers and better understand the original hydrology of the area, including the pre-development shoreline and water bodies. </p>
            <h2 id="data-sources">Data Sources</h2>
              <p>This map uses data from the following sources:</p>
              <ul>
              <li><a href="https://welikia.org/about/overview/" target='_blank' rel='noopener noreferrer'>Welikia Project</a> : shapefiles for the 1609 shoreline and streams. This is an ongoing project, and the only streams data published for now are Manhattan, West Bronx, and Newtown Creek. </li>
              <li><a href="https://data.cityofnewyork.us/Environment/Sea-Level-Rise-Maps-2050s-500-year-Floodplain-/qwca-zqw3" target='_blank' rel='noopener noreferrer'>NYC Mayor&#39;s Office of Climate and Sustainability </a>:  NYC Stormwater flood maps for the 2050s based on FEMA&#39;s Preliminary Work Map data and the New York Panel on Climate Change&#39;s 90th Percentile Projects for Sea-Level Rise.</li>
              <li><a href="https://data.cityofnewyork.us/City-Government/Borough-Boundaries/tqmj-j8zm" target='_blank' rel='noopener noreferrer'>NYC Department of City Planning</a>: Borough boundaries (to clip floodplain data to).</li>
              <li><a href="https://data.ny.gov/Energy-Environment/Combined-Sewer-Overflows-CSOs-Map/i8hd-rmbi" target='_blank' rel='noopener noreferrer'>New York State Department of Environmental Conservation</a>: locations of combined  sewer overflow (CSOs) outfall locations in NYS.</li>
              </ul>
              <p>The additional information presented in the map such as the stream descriptions, photos, and present and planned path of Tibbetts Brook are from a mix of sources cited in the <code>markers.geojson</code> file. For Tibbetts Brook, I have written an extensively researched policy memo in support of its daylighting, the executive summary of which is used as the description for the Tibbetts Brook story in this project. That paper is available upon request. </p>
            <h2 id="methods">Methods</h2>
              <p>I used QGIS 3.10 for data processing. This included fixing geometries and clipping floodplain layers to the borough boundaries, filtering the CSO data to only the ones I needed, converting shapefiles to geoJSON, and changing CRS to WGS84:4326. I also used <a href="geojson.io" target='_blank' rel='noopener noreferrer' >geojson.io</a> to draw the intended path for Tibbetts Brook, the Broadway sewer main, and the pre-development shoreline for the West Bronx (based on a visual of the Welikia map, as this data layer was not made available for download). </p>
            <h2 id="future-plans">Future Plans</h2>
              <p>Though the final project has a deadline, I&#39;d like to come back to this project in the future and add more stories as I reseach them, including adding stream layers as either the Welika Project makes them available or if I myself can draw them based on static maps I find (i.e. <a href="https://www.vice.com/en/article/ezv544/the-hunt-for-brooklyns-hidden-creeks" target='_blank' rel='noopener noreferrer'> this map of Gowanus</a>). I would also like to figure out how to not have to have separate code for marker creation and zooming to the site when clicking from a marker versus a button. I might add features like distinguishing markers based on whether any stream restoration propsals are involved, and make the site mobile-compatible.  </p>
            <h2 id="about-the-author">About the Author</h2>
              <p>Hello, I&#39;m Renata. During the day I&#39;m an electrical engineer working on adding solar PV, energy storage, and electric vehicle chargers to the NYC grid. In the evening I&#39;m a Master of Urban Planning student at NYU Robert F. Wagner Graduate School of Public Service, focusing on climate resiliency and infrastructure planning. At night, I like to sleep. When I&#39;m not doing one of the above, I enjoy riding my bike around NYC and exploring forgotten places, volunteering at clean-up and gardening events, and hiking in the near-upstate with my husband and friends. </p>

          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Ok</button>
          </div>
        </div>
      </div>
    </div>


   <!-- Add layer toggle -->
   <nav id="menu"></nav>

</div>

<!-- Bring in java script -->
 <script src="https://kit.fontawesome.com/3a3d8feff0.js" crossorigin="anonymous"></script>
 <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
 <script src='https://api.mapbox.com/mapbox-gl-js/v2.7.0/mapbox-gl.js'></script>
 <script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.7.2/mapbox-gl-geocoder.min.js"></script>

 <script
    src="https://code.jquery.com/jquery-3.6.0.min.js"
   integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
   crossorigin="anonymous"></script>
   <script src="js/scripts.js"></script>

</body>


</html>
